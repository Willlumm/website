<!DOCTYPE html>
<html>
    <head>
        <title>Password Generator</title>
        <link rel="stylesheet" href="static/style.css">
    </head>
    <body onload="start()">
        <h2 id="password"></h2>
        <br>
        <button onclick="copy()">Copy</button>
        &nbsp;
        <button onclick="generatePassword()">Regenerate</button>
        <br>
        <form>
            <label for="chars">Include:</label>
            <br>
            <textarea id="chars" name="chars" value=""></textarea>
            <br>
            <label for="length">Length:</label>
            <input id="length" name="length" type="number" value=64 style="width:50px">            
        </form>
    </body>
    <script>

        function copy() {
            navigator.clipboard.writeText(document.getElementById("password").innerHTML);
        }

        function generatePassword() {
            chars = document.getElementById("chars").value;
            length = document.getElementById("length").value;
            password = [];
            for(let i=0; i<length; i++) {
                password.push(chars[Math.floor(Math.random() * chars.length)]);
            }
            document.getElementById("password").innerHTML = password.join("");
        }

        function start() {
            document.getElementById("chars").value = "!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}";
            generatePassword()
        }
    </script>
</html>